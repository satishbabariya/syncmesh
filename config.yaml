# SyncMesh - Enterprise Distributed File Synchronization Configuration

# Application settings
log_level: "info"
node_id: ""  # Auto-generated if empty

# Server configuration
server:
  host: "0.0.0.0"
  port: 8080
  grpc_port: 8081
  read_timeout: "30s"
  write_timeout: "30s"
  idle_timeout: "60s"

# File synchronization settings
sync:
  interval: "30s"
  batch_size: 100
  max_retries: 3
  retry_backoff: "5s"
  conflict_resolution: "timestamp"  # timestamp, size, manual
  checksum_algorithm: "sha256"      # sha256, md5
  compression_enabled: true
  compression_level: 6
  exclude_patterns:
    - ".tmp"
    - ".log"
    - ".lock"
    - "*.tmp"
  include_patterns: []

# Cluster configuration
cluster:
  mode: "raft"                    # raft, consul, etcd
  raft_data_dir: "./data/raft"
  bind_addr: "127.0.0.1:8082"
  advertise_addr: ""              # Auto-detected if empty
  bootstrap: false
  join_addresses: []
  heartbeat_timeout: "1s"
  election_timeout: "1s"
  
  # Consul configuration (if mode is consul)
  consul_address: "127.0.0.1:8500"
  consul_token: ""
  
  # etcd configuration (if mode is etcd)
  etcd_endpoints:
    - "127.0.0.1:2379"
  etcd_username: ""
  etcd_password: ""

# Security configuration
security:
  tls_enabled: false
  tls_cert_file: ""
  tls_key_file: ""
  tls_ca_file: ""
  auth_enabled: false
  auth_tokens: []
  jwt_secret: ""
  encryption_key: ""

# Monitoring configuration
monitoring:
  enabled: true
  metrics_path: "/metrics"
  metrics_port: 9090
  health_path: "/health"
  prometheus_enabled: true
  health_check_interval: "30s"
  health_check_timeout: "5s"

# Docker configuration
docker:
  socket_path: "/var/run/docker.sock"
  api_version: "1.41"
  watched_volumes: []
  volume_prefix: "sync-"
  container_timeout: "30s"

# Storage configuration
storage:
  data_dir: "./data"
  temp_dir: "/tmp/gluster-cluster"
  max_file_size: 1073741824      # 1GB
  disk_space_limit: 10737418240  # 10GB
  cleanup_enabled: true
  cleanup_interval: "1h"